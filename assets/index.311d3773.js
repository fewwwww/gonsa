var S=Object.defineProperty;var V=(t,e,n)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>(V(t,typeof e!="symbol"?e+"":e,n),n);import{S as E,P as O,a as A,C as b,I as L,M as W,b as M,V as C,B as N,c as k,W as D,d as H,e as R}from"./vendor.9173ba9c.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};T();var q="./assets/eat.8721838a.mp3",F="./assets/you.a43275fd.mp3",G="./assets/zara.da233c9a.mp3",I="./assets/moon.9aee1d66.mp3",j="./assets/glow.ae7a670d.mp3",U="./assets/gonsa.d4922c49.mp3",X="./assets/right.3db99fe4.mp3",Y="./assets/heart.f24957c3.mp3",K="./assets/psycho.78bedd58.mp3",Z="./assets/tonight.39799041.mp3";class x{constructor(e,n){d(this,"scene");d(this,"camera");d(this,"renderer");d(this,"model");this.scene=new E,this.camera=new O(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=n,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}const z=document.getElementsByTagName("audio")[0],v=document.getElementsByTagName("html")[0];let h,u;const $=new A;function J(){v&&(v.onclick=function(){const t=new AudioContext;let e=t.createMediaElementSource(z);h=t.createAnalyser(),e.connect(h),h.connect(t.destination),h.fftSize=512;let n=h.frequencyBinCount;u=new Uint8Array(n),v.onclick=null})}function Q(t){return t.reduce((e,n)=>e+n)/t.length}function _(t){return t.reduce((e,n)=>e>n?e:n)}class ee extends x{constructor(e,n){super(e,n);d(this,"ball");J(),this.scene.background=new b(16777215);const o=new L(1.5,3),i=new W({color:0,wireframe:!0});this.ball=new M(o,i),this.ball.position.set(0,0,0),this.scene.add(this.ball)}analyze(){h.getByteFrequencyData(u);var e=u.slice(0,u.length/2-1),n=u.slice(u.length/2-1,u.length-1);const o=Q(e)/e.length,i=_(n)/n.length;te(this.ball,o,i)}paused(){z.paused&&location.reload()}update(){this.analyze(),this.ball.rotateX(.001),this.ball.rotateY(.001),this.ball.rotateZ(.001),this.paused()}}function te(t,e,n){const o=t.geometry.attributes.position.array,i=1.5,s=3;for(let r=0;r<o.length;r=r+3){const g=window.performance.now(),l=new C(o[r],o[r+1],o[r+2]);l.normalize();const B=i+e+$.noise3D(l.x+g*7e-5,l.y+g*8e-5,l.z+g*9e-5)*s*n;l.multiplyScalar(B*.5),o[r]=l.x,o[r+1]=l.y,o[r+2]=l.z}t.geometry.attributes.position.needsUpdate=!0}class ne extends x{constructor(e,n){super(e,n);d(this,"bars",[]);this.scene.background=new b(16777215);let o=-20;for(;o<20;)this.addBar(o),o+=.2}addBar(e){const n=new N(0,50,0),o=new k({color:16777215,wireframe:!0}),i=new M(n,o);i.position.x=e,i.position.y=-25,this.bars.push(i),this.scene.add(i)}up(e){e.scale.y+=.003}down(e){e.scale.y-=.003}update(){this.bars.forEach(e=>{Math.random()>.7&&(Math.random()>.501?this.up(e):this.down(e))})}}const w=document.getElementById("play"),p=document.getElementsByTagName("audio")[0];let a={activeView:1,pointerPosition:new R(0,0),audioSrc:[q,F,G,j,I,U,X,Y,K,Z]},c,f,y,m=[];function ie(){oe(),ae(),se()}function oe(){w&&(w.onmouseover=function(){const t=document.getElementsByTagName("html")[0];t.style.filter="invert(1)"},w.onmouseleave=function(){const t=document.getElementsByTagName("html")[0];t.style.filter=""},w.onclick=function(){p.src=a.audioSrc[Math.floor(Math.random()*a.audioSrc.length)],p.load(),p.play(),p.style.display="none",w.style.display="none",a.activeView=(a.activeView+1)%m.length})}function ae(){c=new D({antialias:!0}),c.setClearColor(0),c.shadowMap.enabled=!0,c.shadowMap.type=H,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement),f=new ee(a,c),m.push(f),y=new ne(a,c),m.push(y),P()}function se(){window.addEventListener("resize",re,!1),window.addEventListener("pointermove",ce)}function re(){f.onWindowResize(),y.onWindowResize()}function ce(t){a.pointerPosition.x=t.clientX/window.innerWidth*2-1,a.pointerPosition.y=-(t.clientY/window.innerHeight)*2+1,m[a.activeView].camera.position.x=a.pointerPosition.x/2,m[a.activeView].camera.position.y=a.pointerPosition.y/2}function P(){switch(requestAnimationFrame(()=>{P()}),a.activeView){case 0:f.update();break;case 1:y.update();break}c.render(m[a.activeView].scene,m[a.activeView].camera)}ie();
