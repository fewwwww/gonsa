var S=Object.defineProperty;var V=(t,e,n)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>(V(t,typeof e!="symbol"?e+"":e,n),n);import{S as E,P as O,a as A,C as b,I as L,M as W,b as M,V as k,B as C,c as N,W as D,d as H,e as R}from"./vendor.9173ba9c.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};T();var q="./assets/gonsa.623b0455.flac",F="./assets/zara.1a7cbce9.flac",G="./assets/right.32fb47c5.flac",I="./assets/glow-like-that.0f6ce2fc.flac",j="./assets/eat.6e16e930.flac",U="./assets/psycho.af201838.flac",X="./assets/tonight.9f4c8697.flac";class x{constructor(e,n){d(this,"scene");d(this,"camera");d(this,"renderer");d(this,"model");this.scene=new E,this.camera=new O(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=n,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}const z=document.getElementsByTagName("audio")[0],v=document.getElementsByTagName("html")[0];let w,u;const Y=new A;function K(){v&&(v.onclick=function(){const t=new AudioContext;let e=t.createMediaElementSource(z);w=t.createAnalyser(),e.connect(w),w.connect(t.destination),w.fftSize=512;let n=w.frequencyBinCount;u=new Uint8Array(n),v.onclick=null})}function Z(t){return t.reduce((e,n)=>e+n)/t.length}function $(t){return t.reduce((e,n)=>e>n?e:n)}class J extends x{constructor(e,n){super(e,n);d(this,"ball");K(),this.scene.background=new b(16777215);const o=new L(1.5,3),i=new W({color:0,wireframe:!0});this.ball=new M(o,i),this.ball.position.set(0,0,0),this.scene.add(this.ball)}analyze(){w.getByteFrequencyData(u);var e=u.slice(0,u.length/2-1),n=u.slice(u.length/2-1,u.length-1);const o=Z(e)/e.length,i=$(n)/n.length;Q(this.ball,o,i)}paused(){z.paused&&location.reload()}update(){this.analyze(),this.ball.rotateX(.001),this.ball.rotateY(.001),this.ball.rotateZ(.001),this.paused()}}function Q(t,e,n){const o=t.geometry.attributes.position.array,i=1.5,s=3;for(let r=0;r<o.length;r=r+3){const g=window.performance.now(),l=new k(o[r],o[r+1],o[r+2]);l.normalize();const B=i+e+Y.noise3D(l.x+g*7e-5,l.y+g*8e-5,l.z+g*9e-5)*s*n;l.multiplyScalar(B*.5),o[r]=l.x,o[r+1]=l.y,o[r+2]=l.z}t.geometry.attributes.position.needsUpdate=!0}class _ extends x{constructor(e,n){super(e,n);d(this,"bars",[]);this.scene.background=new b(16777215);let o=-20;for(;o<20;)this.addBar(o),o+=.2}addBar(e){const n=new C(0,50,0),o=new N({color:16777215,wireframe:!0}),i=new M(n,o);i.position.x=e,i.position.y=-25,this.bars.push(i),this.scene.add(i)}up(e){e.scale.y+=.003}down(e){e.scale.y-=.003}update(){this.bars.forEach(e=>{Math.random()>.7&&(Math.random()>.501?this.up(e):this.down(e))})}}const m=document.getElementById("play"),f=document.getElementsByTagName("audio")[0];let a={activeView:1,pointerPosition:new R(0,0),audioSrc:[q,G,F,I,j,U,X]},c,p,y,h=[];function ee(){te(),ne(),ie()}function te(){m&&(m.onmouseover=function(){const t=document.getElementsByTagName("html")[0];t.style.filter="invert(1)"},m.onmouseleave=function(){const t=document.getElementsByTagName("html")[0];t.style.filter=""},m.onclick=function(){f.src=a.audioSrc[Math.floor(Math.random()*a.audioSrc.length)],f.load(),f.play(),f.style.display="none",m.style.display="none",a.activeView=(a.activeView+1)%h.length})}function ne(){c=new D({antialias:!0}),c.setClearColor(0),c.shadowMap.enabled=!0,c.shadowMap.type=H,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement),p=new J(a,c),h.push(p),y=new _(a,c),h.push(y),P()}function ie(){window.addEventListener("resize",oe,!1),window.addEventListener("pointermove",ae)}function oe(){p.onWindowResize(),y.onWindowResize()}function ae(t){a.pointerPosition.x=t.clientX/window.innerWidth*2-1,a.pointerPosition.y=-(t.clientY/window.innerHeight)*2+1,h[a.activeView].camera.position.x=a.pointerPosition.x/2,h[a.activeView].camera.position.y=a.pointerPosition.y/2}function P(){switch(requestAnimationFrame(()=>{P()}),a.activeView){case 0:p.update();break;case 1:y.update();break}c.render(h[a.activeView].scene,h[a.activeView].camera)}ee();
