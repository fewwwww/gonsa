var A=Object.defineProperty;var E=(n,e,t)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(E(n,typeof e!="symbol"?e+"":e,t),t);import{S as L,P as O,a as W,C as M,I as C,M as k,b as x,V as N,B as D,c as H,W as R,d as q,e as F}from"./vendor.9173ba9c.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};T();var G="./assets/eat.8721838a.mp3",I="./assets/you.a43275fd.mp3",j="./assets/zara.da233c9a.mp3",U="./assets/moon.9aee1d66.mp3",X="./assets/glow.ae7a670d.mp3",Y="./assets/gonsa.d4922c49.mp3",$="./assets/right.3db99fe4.mp3",K="./assets/heart.f24957c3.mp3",Z="./assets/psycho.78bedd58.mp3",J="./assets/tonight.39799041.mp3";class z{constructor(e,t){d(this,"scene");d(this,"camera");d(this,"renderer");d(this,"model");this.scene=new L,this.camera=new O(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=t,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}const P=document.getElementsByTagName("audio")[0],v=document.getElementsByTagName("html")[0];let h,u;const Q=new W;function _(){v&&(v.onclick=function(){const n=new AudioContext;let e=n.createMediaElementSource(P);h=n.createAnalyser(),e.connect(h),h.connect(n.destination),h.fftSize=512;let t=h.frequencyBinCount;u=new Uint8Array(t),v.onclick=null})}function ee(n){return n.reduce((e,t)=>e+t)/n.length}function te(n){return n.reduce((e,t)=>e>t?e:t)}class ne extends z{constructor(e,t){super(e,t);d(this,"ball");_(),this.scene.background=new M(16777215);const o=new C(1.5,3),i=new k({color:0,wireframe:!0});this.ball=new x(o,i),this.ball.position.set(0,0,0),this.scene.add(this.ball)}analyze(){h.getByteFrequencyData(u);var e=u.slice(0,u.length/2-1),t=u.slice(u.length/2-1,u.length-1);const o=ee(e)/e.length,i=te(t)/t.length;ie(this.ball,o,i)}paused(){P.paused&&location.reload()}update(){this.analyze(),this.ball.rotateX(.001),this.ball.rotateY(.001),this.ball.rotateZ(.001),this.paused()}}function ie(n,e,t){const o=n.geometry.attributes.position.array,i=1.5,s=3;for(let r=0;r<o.length;r=r+3){const g=window.performance.now(),l=new N(o[r],o[r+1],o[r+2]);l.normalize();const V=i+e+Q.noise3D(l.x+g*7e-5,l.y+g*8e-5,l.z+g*9e-5)*s*t;l.multiplyScalar(V*.5),o[r]=l.x,o[r+1]=l.y,o[r+2]=l.z}n.geometry.attributes.position.needsUpdate=!0}class oe extends z{constructor(e,t){super(e,t);d(this,"bars",[]);this.scene.background=new M(16777215);let o=-20;for(;o<20;)this.addBar(o),o+=.2}addBar(e){const t=new D(0,50,0),o=new H({color:16777215,wireframe:!0}),i=new x(t,o);i.position.x=e,i.position.y=-25,this.bars.push(i),this.scene.add(i)}up(e){e.scale.y+=.003}down(e){e.scale.y-=.003}update(){this.bars.forEach(e=>{Math.random()>.7&&(Math.random()>.501?this.up(e):this.down(e))})}}const w=document.getElementById("play"),p=document.getElementsByTagName("audio")[0],b=document.getElementsByTagName("html")[0];let a={activeView:1,pointerPosition:new F(0,0),audioSrc:[G,I,j,X,U,Y,$,K,Z,J]},c,f,y,m=[];function ae(){se(),re(),ce()}function se(){w&&(w.onmouseover=function(){b.style.filter="invert(1)"},w.onmouseleave=function(){b.style.filter=""},w.onclick=function(n){p.src=a.audioSrc[Math.floor(Math.random()*a.audioSrc.length)],p.load(),p.play(),p.style.display="none",w.style.display="none",a.activeView=(a.activeView+1)%m.length,S(n),b.style.filter=""})}function re(){c=new R({antialias:!0}),c.setClearColor(0),c.shadowMap.enabled=!0,c.shadowMap.type=q,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement),f=new ne(a,c),m.push(f),y=new oe(a,c),m.push(y),B()}function ce(){window.addEventListener("resize",le,!1),window.addEventListener("pointermove",S)}function le(){f.onWindowResize(),y.onWindowResize()}function S(n){a.pointerPosition.x=n.clientX/window.innerWidth*2-1,a.pointerPosition.y=-(n.clientY/window.innerHeight)*2+1,m[a.activeView].camera.position.x=a.pointerPosition.x/2,m[a.activeView].camera.position.y=a.pointerPosition.y/2}function B(){switch(requestAnimationFrame(()=>{B()}),a.activeView){case 0:f.update();break;case 1:y.update();break}c.render(m[a.activeView].scene,m[a.activeView].camera)}ae();
